# <Center>FINAL PROJECT
## <CENTER>Определение уязвимых групп населения
    
## Ссылка на презентацию дипломной работы:
https://drive.google.com/file/d/1dCPZxAuBgg8QL3xVMwOVf4mGHmURpB45/view?usp=sharing

### Оглавление
[1. Описание проекта](./README.md#1-Описание-проекта)  
[2. Краткая информация о данных](./README.md#2-Данные)  
[3. Этапы работы над проектом](./README.md#3-Этапы-работы-над-проектом)  
[4. Итоги](./README.md#4-Итоги)    

### 1. Описание проекта

Согласно опросу «инФОМ» от декабря 2021 года, у 27 % россиян хватает денег только на еду, а ещё 9 % не могут позволить себе полноценное питание. Эти люди особенно внимательно следят за ценами, а темп роста цен на продукты обычно превышает средний темп инфляции. При этом Росстат считает, что расходы на продукты питания должны составлять примерно 36 % от среднемесячных расходов россиянина (ещё около 10 % приходится на услуги ЖКХ и жильё, 4 % — на лекарства).
    
До 2021 года «черта бедности» (жизнь на сумму ниже прожиточного минимума) в России определялась стоимостью минимальной продуктовой корзины. В том же году правительство «отвязало» уровень бедности от цен на базовые продукты: с 2021 года прожиточный минимум рассчитывается как 44.2 % от медианного дохода граждан РФ за прошлый год.
    
Задача:
* кластеризовать регионы России и определить, какие из них наиболее остро нуждаются в помощи малообеспеченным/неблагополучным слоям населения;
* описать группы населения, сталкивающиеся с бедностью;
* определить:
    + влияет ли число детей, пенсионеров и других социально уязвимых групп на уровень бедности в регионе;
    + связаны ли уровень бедности/социального неблагополучия с производством и потреблением в регионе;
    + какие ещё зависимости можно наблюдать относительно социально незащищённых слоёв населения.

:arrow_up: [к оглавлению](./README.md#Оглавление)



### 2. Данные

В нашем распоряжении есть данные о доходах, заболеваемости, социально незащищённых слоях населения России и другие экономические и демографические данные. 
    
Все первоначальные данные содержится в папке `data` [PORTFOLIO/Project_8/](./data).
    
Все обработанные данные и таблицы находятся в папке `total` [PORTFOLIO/Project_8/](./data/total).

Обединенный ДатаФрейм со всеми обработанными признаками `df_total_2` находится в папке [PORTFOLIO/Project_8/](./data/total/df_total_2.csv)

  
:arrow_up: [к оглавлению](./README.md#Оглавление)


### 3. Этапы работы над проектом

- Предварительная обработка данных `Part1`: [PORTFOLIO/Project_8/](./Part_1/Part1.ipynb)
- Разведывательный анализ данных`Part2_EDA`: [PORTFOLIO/Project_8/](./Part_2/Part2_EDA.ipynb)
- Кластеризация и выводы `Part3_ML`: [PORTFOLIO/Project_8/](./Part_3/Part3_ML.ipynb)


:arrow_up: [к оглавлению](./README.md#Оглавление)


### 5. Итоги

* Была сделана предобработка данных 17 таблиц `Part1`: [PORTFOLIO/Project_8/](./Part_1/Part1.ipynb):
    + Была произведена работа с имеющимися базами данных из разных категорий: население, здоровье, финансы, болезни, производство, потребление, преступность и т.д.  По всем таблицам брались средние данные за 2000-2021 год. Там где данных не хватало брался средний результат за ближайший год.
    + В каждой таблице были сделаны визуализации на максимальные, минимальные и средние значения по всем показателям, а также выделены ТОП-10 регионов.
    + Т.к. в каждой таблице все регионы были написаны по разному, был создан единый список из 85 регионов, словарь неправильных названий, функция для смены названий, а также итоговая маска на соответствие.
    + Для некоторых таблиц были созданы отдельные функции для обработки данных, там где файлов было много.
    + После обработки всех данных была создана единая база данных со всеми признаками, которая применялась к дальнейшему анализу `df_total_2` [PORTFOLIO/Project_8/](./data/total/df_total_2.csv)

    
* Был произведен разведывательный анализ данных `Part2_EDA`: [PORTFOLIO/Project_8/](./Part_2/Part2_EDA.ipynb):
    + Была сделана корелляциия признаков, удаление сильноскорелированных.
    + Также использован метод рекурсивного исключения признаков.
    + Было сделано распределение, по которому было понятно что больше половины признаков не распределены нормально.
    + Была произвелдена работа с выбросами. Выбросы не удалялись, а заменялись либо на максимальные, либо на минимальные значения. Т.к. удаление признаков привело бы к уменьшению количества регионов.
    + Была произведена нормализация и стандартизация: MinMaxScaler, RobustScaler, StandardScaler. Наилучший вариант распределения показал стандартизатор StandardScaler.
    + Были проведены статистические тесты на распределение признаков: Тест Шапиро-Уилка и Тест Д’Агостино.
    + После анализа данных был сохранен новый датасет для дальнейшей работы:[PORTFOLIO/Project_8/](./data/total/df_corr_2.csv)

    
* Кластеризация `Part3_ML`: [PORTFOLIO/Project_8/](./Part_3/Part3_ML.ipynb):
    + Были использованы Методы KMeans, EM, AgglomerativeClustering.
    + Были применены техники понижения размерности: PCA и tSNE.
    + Были сделаны визуализации кластеров с помощью диаграммы рассеяния и полярной диаграммы.
    + По результатам метрик было определно оптимальное число кластеров равное 4.
    + Были построены несколько моделей: RandomForestClassifier, GradientBoostingClassifier. Перебрав разные параменты была улучшена метрика accuracy score. Тем самым мы перешли от задачи кластеризации к задаче классификации.
    + Была произведена оптимизация гиперпараметров с помощью библиотеки OPTUNA.
    + Очень подробно были описаны полученные кластеры и сделаны выводы: 
    
    **В самый бедный кластер вошли 35 регионов, с низким уровнем дохода, высоким уровнем бедности. Следует обратить особое внимание на Ингушетию, Тыву, Калмыкию, Алтай, Мэрий Эл - там самый высокий уровень бедности и самые низкие доходы. А также уделить особое внимание пенсионерами в Смоленской области и Кабардино-Балкарской республике. Также следует уделить внимание инвалидам Ростовской области, тк там самое большое количество по всем возрастам, хоть они и не вошли в наш кластер по другим показателям.**
    
 * Также были проверены гипотезы и сделаны по ним выводы.


:arrow_up: [к оглавлению](./README.md#Оглавление)
    
    
    
    

